# Sample environment configuration for North Star backend
# Copy to .env and fill with your deployment-specific values.
# Never commit your real secrets.

# ---- Security / Auth ----
JWT_SECRET=replace_with_long_random_string
JWT_AUD=northstar
JWT_ISS=northstar
TENANT_ID=tenant1

# ---- Postgres (RDS) ----
POSTGRES_HOST=your-rds-endpoint.rds.amazonaws.com
POSTGRES_PORT=5432
POSTGRES_DB=northstar
POSTGRES_USER=postgres
# IMPORTANT: do not wrap the password in quotes. On Windows PowerShell, prefer the .env file or escape $ characters.
POSTGRES_PASSWORD=ReplaceMe$Secure1854!
POSTGRES_SSLMODE=require
POSTGRES_CONNECT_TIMEOUT=10

# ---- Qdrant Cloud ----
QDRANT_URL=https://your-qdrant-url:6333
QDRANT_API_KEY=replace_me
QDRANT_COLLECTION_PREFIX=tenant_
HYBRID_STRATEGY_DEFAULT=qdrant
HYBRID_TOPK=12
HYBRID_LAMBDA=0.6
EMBED_DIM=1024

# ---- Queue (Upstash Redis) ----
QUEUE_MODE=redis
REDIS_URL=rediss://default:example@native-mutt-16389.upstash.io:6379
QUEUE_NAMESPACE=northstar
RATE_LIMITER_ENABLED=true
# Router control: static (existing heuristic) or learned (LinUCB bandit)
ROUTER_MODE=static
# Policy enforcement mode: strict prunes aggressively, permissive stores audit only
POLICY_ENFORCEMENT=strict
# Optional deny-list override for hot fixes (comma-separated project keys)
POLICY_DENY_PROJECTS=
# Force proof mode to emit detailed traces on each request
POLICY_PROOF_MODE=false
# Directory for isolation proof artifacts
ISOLATION_REPORT_DIR=./artifacts/isolation
# Evaluation data directory for harness inputs
EVAL_DATA_DIR=./eval/data
# Evaluation mode disables publish actions for demos / hackathons
EVAL_MODE=false
# Enable Aâ†’B mapper overlay
ABMAP_ENABLED=false

# ---- Cerebras (Planner/Agent) ----
LLM_PROVIDER=cerebras
CEREBRAS_API_KEY=replace_me
CEREBRAS_BASE_URL=https://api.cerebras.ai
CEREBRAS_MODEL=llama-4-scout-17b-16e-instruct
CEREBRAS_TIMEOUT_SEC=60
CEREBRAS_MAX_RETRIES=2

# Optional OpenAI fallback (switch LLM_PROVIDER=openai and provide keys)
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_API_KEY=
OPENAI_MODEL=gpt-5

# ---- Atlassian Integrations ----
ATLASSIAN_BASE_URL=https://your-domain.atlassian.net
ATLASSIAN_EMAIL=admin@example.com
ATLASSIAN_API_TOKEN=replace_me
ATLASSIAN_CONFLUENCE_SPACE=ENG
# Set to true to create Confluence drafts instead of publishing immediately
DRAFT_MODE=false

# ---- Logging ----
APP_LOG_LEVEL=INFO
ENV=dev
